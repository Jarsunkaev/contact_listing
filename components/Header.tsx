"use client";

import React, { useState } from 'react';
import AddContactModal from './AddContactModal';

const Header = ({ onAddContact }: { onAddContact: (newContact: any) => void }) => {
  const [isAddModalOpen, setIsAddModalOpen] = useState(false);

  const handleAddContact = (newContact: any) => {
    onAddContact(newContact);
    setIsAddModalOpen(false);
  };

  return (
    <div className="relative w-full">
      <div className="absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-full pr-6 hidden md:block">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 27.625L12.375 20L20 12.375L21.075 13.45L15.25 19.25H27.625V20.75H15.25L21.075 26.55L20 27.625Z" fill="white"/>
        </svg>
      </div>
      
      <div className="w-full md:w-[720px] mx-auto">
        <header className="flex justify-between items-center p-4">
          <h1 className="text-2xl md:text-[32px] font-medium text-gray-100 pl-2 md:pl-4 font-glysa">Contacts</h1>
          
          <div className="flex items-center space-x-2 md:space-x-4 pr-2 md:pr-4">
            <button className="p-2 hidden md:block">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
              <path d="M17.7 29.5L17.3 26.45C17.0333 26.3667 16.7626 26.2417 16.488 26.075C16.2126 25.9083 15.9583 25.7333 15.725 25.55L12.9 26.75L10.6 22.75L13.05 20.9C13.0166 20.75 12.996 20.6 12.988 20.45C12.9793 20.3 12.975 20.15 12.975 20C12.975 19.8667 12.9793 19.725 12.988 19.575C12.996 19.425 13.0166 19.2667 13.05 19.1L10.6 17.25L12.9 13.275L15.725 14.45C15.9583 14.2667 16.2126 14.096 16.488 13.938C16.7626 13.7793 17.0333 13.65 17.3 13.55L17.7 10.5H22.3L22.7 13.55C23 13.6667 23.2706 13.7957 23.512 13.937C23.754 14.079 24 14.25 24.25 14.45L27.1 13.275L29.4 17.25L26.925 19.125C26.9583 19.2917 26.975 19.4417 26.975 19.575C26.975 19.7083 26.975 19.85 26.975 20C26.975 20.1333 26.9706 20.2707 26.962 20.412C26.954 20.554 26.9333 20.7167 26.9 20.9L29.35 22.75L27.05 26.75L24.25 25.55C24 25.75 23.746 25.925 23.488 26.075C23.2293 26.225 22.9666 26.35 22.7 26.45L22.3 29.5H17.7ZM20 23C20.8333 23 21.5416 22.7083 22.125 22.125C22.7083 21.5417 23 20.8333 23 20C23 19.1667 22.7083 18.4583 22.125 17.875C21.5416 17.2917 20.8333 17 20 17C19.1666 17 18.4583 17.2917 17.875 17.875C17.2916 18.4583 17 19.1667 17 20C17 20.8333 17.2916 21.5417 17.875 22.125C18.4583 22.7083 19.1666 23 20 23ZM20 21.5C19.5833 21.5 19.2293 21.354 18.938 21.062C18.646 20.7707 18.5 20.4167 18.5 20C18.5 19.5833 18.646 19.2293 18.938 18.938C19.2293 18.646 19.5833 18.5 20 18.5C20.4166 18.5 20.7706 18.646 21.062 18.938C21.354 19.2293 21.5 19.5833 21.5 20C21.5 20.4167 21.354 20.7707 21.062 21.062C20.7706 21.354 20.4166 21.5 20 21.5ZM19 28H20.975L21.325 25.325C21.8416 25.1917 22.3083 25 22.725 24.75C23.1416 24.5 23.55 24.1833 23.95 23.8L26.425 24.85L27.425 23.15L25.25 21.525C25.3333 21.2583 25.3876 21 25.413 20.75C25.4376 20.5 25.45 20.25 25.45 20C25.45 19.7333 25.4376 19.4793 25.413 19.238C25.3876 18.996 25.3333 18.75 25.25 18.5L27.425 16.85L26.45 15.15L23.925 16.2C23.5916 15.85 23.1916 15.5373 22.725 15.262C22.2583 14.9873 21.7916 14.7917 21.325 14.675L21 12H19.025L18.675 14.675C18.175 14.7917 17.7083 14.975 17.275 15.225C16.8416 15.475 16.425 15.7917 16.025 16.175L13.55 15.15L12.575 16.85L14.725 18.45C14.6416 18.7 14.5833 18.95 14.55 19.2C14.5166 19.45 14.5 19.7167 14.5 20C14.5 20.2667 14.5166 20.525 14.55 20.775C14.5833 21.025 14.6416 21.275 14.725 21.525L12.575 23.15L13.55 24.85L16.025 23.8C16.4083 24.1833 16.8166 24.5 17.25 24.75C17.6833 25 18.1583 25.1917 18.675 25.325L19 28Z" fill="white"/>
            </svg>
            </button>

            <div className="w-8 h-8 bg-gray-300 rounded-full"></div>

            <button
              className="relative p-2 flex items-center justify-center text-white rounded-full w-[100px] md:w-[120px] h-[36px] md:h-[40px] text-xs md:text-sm leading-[14px] font-lexend-deca font-[400]"
              style={{
                backgroundColor: "#282828",
              }}
              onClick={() => setIsAddModalOpen(true)}
            >
              <span
                className="absolute inset-0 rounded-full"
                style={{
                  padding: "2px",
                  background: "linear-gradient(180deg, #3C3C3C 0%, rgba(60, 60, 60, 0) 100%)",
                  WebkitMask: "linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",
                  maskComposite: "exclude",
                  borderRadius: "inherit",
                  border: "1px"
                }}
              ></span>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="13.5"
                height="13.5"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
                className="mr-2"
              >
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
              <span className="hidden md:inline">Add New</span>
              <span className="md:hidden">Add</span>
            </button>
          </div>
        </header>
      </div>

      <div className="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-full pl-6 hidden md:block">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 15C12.8333 15 13.5417 14.7083 14.125 14.125C14.7083 13.5417 15 12.8333 15 12C15 11.1667 14.7083 10.4583 14.125 9.875C13.5417 9.29167 12.8333 9 12 9C11.1667 9 10.4583 9.29167 9.875 9.875C9.29167 10.4583 9 11.1667 9 12C9 12.8333 9.29167 13.5417 9.875 14.125C10.4583 14.7083 11.1667 15 12 15ZM12 16.5C10.75 16.5 9.68733 16.0627 8.812 15.188C7.93733 14.3127 7.5 13.25 7.5 12C7.5 10.75 7.93733 9.68733 8.812 8.812C9.68733 7.93733 10.75 7.5 12 7.5C13.25 7.5 14.3127 7.93733 15.188 8.812C16.0627 9.68733 16.5 10.75 16.5 12C16.5 13.25 16.0627 14.3127 15.188 15.188C14.3127 16.0627 13.25 16.5 12 16.5ZM2 12.75C1.78333 12.75 1.604 12.679 1.462 12.537C1.32067 12.3957 1.25 12.2167 1.25 12C1.25 11.7833 1.32067 11.604 1.462 11.462C1.604 11.3207 1.78333 11.25 2 11.25H4.25C4.46667 11.25 4.64567 11.3207 4.787 11.462C4.929 11.604 5 11.7833 5 12C5 12.2167 4.929 12.3957 4.787 12.537C4.64567 12.679 4.46667 12.75 4.25 12.75H2ZM19.75 12.75C19.5333 12.75 19.354 12.679 19.212 12.537C19.0707 12.3957 19 12.2167 19 12C19 11.7833 19.0707 11.604 19.212 11.462C19.354 11.3207 19.5333 11.25 19.75 11.25H22C22.2167 11.25 22.396 11.3207 22.538 11.462C22.6793 11.604 22.75 11.7833 22.75 12C22.75 12.2167 22.6793 12.3957 22.538 12.537C22.396 12.679 22.2167 12.75 22 12.75H19.75ZM12 5C11.7833 5 11.6043 4.929 11.463 4.787C11.321 4.64567 11.25 4.46667 11.25 4.25V2C11.25 1.78333 11.321 1.604 11.463 1.462C11.6043 1.32067 11.7833 1.25 12 1.25C12.2167 1.25 12.396 1.32067 12.538 1.462C12.6793 1.604 12.75 1.78333 12.75 2V4.25C12.75 4.46667 12.6793 4.64567 12.538 4.787C12.396 4.929 12.2167 5 12 5ZM12 22.75C11.7833 22.75 11.6043 22.6793 11.463 22.538C11.321 22.396 11.25 22.2167 11.25 22V19.75C11.25 19.5333 11.321 19.354 11.463 19.212C11.6043 19.0707 11.7833 19 12 19C12.2167 19 12.396 19.0707 12.538 19.212C12.6793 19.354 12.75 19.5333 12.75 19.75V22C12.75 22.2167 12.6793 22.396 12.538 22.538C12.396 22.6793 12.2167 22.75 12 22.75ZM6 7.05L4.75 5.825C4.6 5.675 4.529 5.49567 4.537 5.287C4.54567 5.079 4.61667 4.9 4.75 4.75C4.9 4.6 5.07933 4.525 5.288 4.525C5.496 4.525 5.675 4.6 5.825 4.75L7.05 6C7.2 6.15 7.275 6.325 7.2756.525C7.275 6.725 7.2 6.9 7.05 7.05C6.91667 7.2 6.75 7.27067 6.55 7.262C6.35 7.254 6.16667 7.18333 6 7.05ZM18.175 19.25L16.95 18C16.8 17.85 16.725 17.675 16.725 17.475C16.725 17.275 16.8 17.1 16.95 16.95C17.0833 16.8 17.25 16.7293 17.45 16.738C17.65 16.746 17.8333 16.8167 18 16.95L19.25 18.175C19.4 18.325 19.471 18.504 19.463 18.712C19.4543 18.9207 19.3833 19.1 19.25 19.25C19.1 19.4 18.921 19.475 18.713 19.475C18.5043 19.475 18.325 19.4 18.175 19.25ZM16.95 7.05C16.8 6.91667 16.7293 6.75 16.738 6.55C16.746 6.35 16.8167 6.16667 16.95 6L18.175 4.75C18.325 4.6 18.5043 4.529 18.713 4.537C18.921 4.54567 19.1 4.61667 19.25 4.75C19.4 4.9 19.475 5.079 19.475 5.287C19.475 5.49567 19.4 5.675 19.25 5.825L18 7.05C17.85 7.2 17.675 7.275 17.475 7.275C17.275 7.275 17.1 7.2 16.95 7.05ZM4.75 19.25C4.6 19.1 4.525 18.9207 4.525 18.712C4.525 18.504 4.6 18.325 4.75 18.175L6 16.95C6.15 16.8 6.325 16.725 6.525 16.725C6.725 16.725 6.9 16.8 7.05 16.95C7.2 17.0833 7.271 17.25 7.263 17.45C7.25433 17.65 7.18333 17.8333 7.05 18L5.825 19.25C5.675 19.4 5.496 19.475 5.288 19.475C5.07933 19.475 4.9 19.4 4.75 19.25Z" fill="white"/>
        </svg>
      </div>

      <AddContactModal
        isOpen={isAddModalOpen}
        onClose={() => setIsAddModalOpen(false)}
        onAdd={handleAddContact}
      />
    </div>
  );
};

export default Header;